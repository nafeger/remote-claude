# Remote Claude 시스템 테스트 가이드

UX 개선 사항(Task 3.0)에 대한 통합 시스템 테스트 매뉴얼입니다.

## 사전 준비 (Task 7.1)

### 1. 앱 빌드 및 실행

```bash
# 1. TypeScript 컴파일
npm run build

# 2. 앱 실행 (개발 모드)
npm run dev

# 또는 프로덕션 모드
npm start
```

### 2. 환경 확인

- `.env` 파일에 Slack 토큰이 설정되어 있는지 확인
- `SLACK_BOT_TOKEN`, `SLACK_APP_TOKEN` 확인
- tmux가 설치되어 있는지 확인: `tmux -V`

### 3. Slack 채널 준비

- 테스트용 Slack 채널 생성 (예: `#remote-claude-test`)
- Remote Claude 앱이 채널에 초대되어 있는지 확인

---

## 시스템 테스트 1: 대화형 프롬프트 응답 테스트 (Task 7.2-7.16)

**목적**: Enter 키, 화살표 키 버튼을 사용하여 Claude Code의 대화형 프롬프트에 응답하는 기능 테스트

### Task 7.2: 채널 설정

Slack 채널에서 다음 명령어 입력:
```
/setup
```

**예상 결과**:
- 프로젝트 경로 입력 요청 모달 표시
- 프로젝트 경로 입력 (예: `/Users/your-name/projects/test-project`)
- 설정 완료 메시지 표시

**✅ 체크리스트**:
- [ ] `/setup` 명령어 정상 실행
- [ ] 모달 표시 정상
- [ ] 채널 설정 완료

---

### Task 7.3: 대화형 프롬프트 발생 작업 실행

Slack 채널에서 다음 명령어 입력:
```
/ask "Create a new React component with TypeScript"
```

**예상 결과**:
- Remote Claude가 작업을 시작
- tmux 세션에서 Claude Code 실행
- 진행 상황 메시지 표시

**✅ 체크리스트**:
- [ ] `/ask` 명령어 정상 실행
- [ ] 작업 시작 메시지 표시
- [ ] tmux 세션 생성 확인

---

### Task 7.4: 9개 버튼 표시 확인

**예상 결과**:
Remote Claude의 모든 응답 메시지 하단에 9개 버튼 표시:

**첫 번째 행 (3개)**:
- 📊 상태 확인
- 📥 파일 다운로드
- 🚫 작업 취소

**두 번째 행 (6개)**:
- ⏎ 엔터
- ⏎⏎ 엔터*2
- ↑
- ↓
- ←
- →

**✅ 체크리스트**:
- [ ] 9개 버튼 모두 표시됨
- [ ] 버튼 레이아웃이 2행으로 구성됨
- [ ] 버튼 라벨이 명확함

---

### Task 7.5: 대화형 프롬프트 표시 확인

Claude Code가 다음과 같은 프롬프트를 표시할 때까지 대기:
```
Do you want to proceed? [y/n]
```

**예상 결과**:
- "📊 상태 확인" 버튼을 클릭하여 현재 화면 확인 가능
- 프롬프트 메시지가 화면에 표시됨

**✅ 체크리스트**:
- [ ] 대화형 프롬프트 표시됨
- [ ] "📊 상태 확인" 버튼으로 확인 가능

---

### Task 7.6: "⏎ 엔터" 버튼으로 기본값 선택

**동작**:
1. "⏎ 엔터" 버튼 클릭

**예상 결과**:
- Enter 키가 tmux 세션에 전송됨
- 기본값 `y` 선택됨
- "✅ Enter 키가 전송되었습니다" 메시지 표시
- 9개 버튼이 응답 메시지에 포함됨

**✅ 체크리스트**:
- [ ] "⏎ 엔터" 버튼 클릭 가능
- [ ] Enter 키 전송 성공 메시지 표시
- [ ] 응답 메시지에 9개 버튼 포함

---

### Task 7.7: 작업 계속 진행 확인

**예상 결과**:
- Claude Code가 작업을 계속 진행
- 진행 상황 메시지가 Slack에 표시됨
- 모든 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] 작업이 계속 진행됨
- [ ] 진행 상황 메시지 표시
- [ ] 모든 메시지에 버튼 포함

---

### Task 7.8: 파일 선택 메뉴 표시 확인

Claude Code가 파일 선택 메뉴를 표시할 때까지 대기:
```
Please select a file:
> file1.ts
  file2.ts
  file3.ts
```

**예상 결과**:
- "📊 상태 확인" 버튼으로 현재 화면 확인 가능
- 파일 선택 메뉴가 표시됨

**✅ 체크리스트**:
- [ ] 파일 선택 메뉴 표시됨
- [ ] "📊 상태 확인" 버튼으로 확인 가능

---

### Task 7.9: "↓" 버튼으로 메뉴 네비게이션

**동작**:
1. "↓" 버튼 2번 클릭

**예상 결과**:
- Down 화살표 키가 tmux 세션에 전송됨
- "✅ ↓ 키가 전송되었습니다" 메시지 표시 (2회)
- 메뉴 커서가 아래로 이동
- 응답 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] "↓" 버튼 클릭 가능
- [ ] Down 키 전송 성공 메시지 표시
- [ ] 메뉴 커서 이동 확인

---

### Task 7.10: "⏎ 엔터" 버튼으로 선택 확인

**동작**:
1. "⏎ 엔터" 버튼 클릭

**예상 결과**:
- Enter 키가 tmux 세션에 전송됨
- 선택한 파일이 확정됨
- 작업이 계속 진행됨

**✅ 체크리스트**:
- [ ] "⏎ 엔터" 버튼 클릭 가능
- [ ] 파일 선택 확정됨
- [ ] 작업 계속 진행

---

### Task 7.11-7.16: 시스템 테스트 1 검증

**최종 검증 체크리스트**:
- [ ] 모든 응답에 9개 버튼 정상 표시 (Task 7.12)
- [ ] "⏎ 엔터" 버튼으로 Enter 키 전송 정상 동작 (Task 7.13)
- [ ] "↓" 버튼으로 화살표 키 전송 정상 동작 (Task 7.14)
- [ ] 대화형 프롬프트 응답 성공 (Task 7.15)
- [ ] tmux 세션에서 키 입력 확인 가능 (Task 7.16)

---

## 시스템 테스트 2: 상태 확인 및 파일 다운로드 테스트 (Task 7.17-7.28)

**목적**: "📊 상태 확인", "📥 파일 다운로드" 버튼 기능 테스트

### Task 7.17: 복잡한 작업 실행

Slack 채널에서 다음 명령어 입력:
```
/ask "Refactor the authentication module with better error handling"
```

**예상 결과**:
- 작업 시작 메시지 표시
- 진행 상황 메시지 표시
- 모든 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] 작업 시작됨
- [ ] 진행 상황 메시지 표시
- [ ] 9개 버튼 표시

---

### Task 7.19: "📊 상태 확인" 버튼 테스트

**동작**:
1. "📊 상태 확인" 버튼 클릭

**예상 결과**:
- 현재 채널 상태 정보 표시:
  - 채널 ID
  - 프로젝트 경로
  - tmux 세션 이름
  - tmux 화면 내용 (50라인)
- 응답 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] "📊 상태 확인" 버튼 클릭 가능
- [ ] 채널 상태 정보 표시됨
- [ ] tmux 화면 내용 표시됨 (50라인)
- [ ] 응답 메시지에 9개 버튼 포함

---

### Task 7.21: "📥 파일 다운로드" 버튼 테스트

**동작**:
1. "📥 파일 다운로드" 버튼 클릭

**예상 결과**:
- 파일 경로 입력 모달 표시
- 모달 제목: "📥 파일 다운로드"
- 입력 필드: "파일 경로" (상대 경로)

**✅ 체크리스트**:
- [ ] "📥 파일 다운로드" 버튼 클릭 가능
- [ ] 모달 정상 표시
- [ ] 입력 필드 정상 동작

---

### Task 7.22-7.23: 파일 다운로드 실행

**동작**:
1. 모달 입력 필드에 `src/index.ts` 입력
2. "Submit" 버튼 클릭

**예상 결과**:
- 파일 다운로드 시작 메시지 표시
- 파일이 Slack 채널에 업로드됨
- "✅ 파일 다운로드 완료" 메시지 표시
- 응답 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] 파일 다운로드 시작 메시지 표시
- [ ] 파일이 Slack에 업로드됨
- [ ] 다운로드 완료 메시지 표시
- [ ] 응답 메시지에 9개 버튼 포함

---

### Task 7.25-7.28: 시스템 테스트 2 검증

**최종 검증 체크리스트**:
- [ ] "📊 상태 확인" 버튼 즉시 실행됨 (Task 7.25)
- [ ] "📥 파일 다운로드" 버튼 → 모달 표시 정상 (Task 7.26)
- [ ] 모달 제출 → 파일 다운로드 성공 (Task 7.27)
- [ ] 모든 단계에서 9개 버튼 표시 (Task 7.28)

---

## 시스템 테스트 3: 한글 키보드 매핑 및 엔터*2 테스트 (Task 7.29-7.39)

**목적**: 한글 키보드로 입력된 명령어 자동 변환 및 "⏎⏎ 엔터*2" 버튼 테스트

### Task 7.29-7.30: 한글 명령어 `/애쥐ㅐㅁㅇ` 테스트

**사전 조건**:
- 키보드를 한글 입력 모드로 전환

**동작**:
Slack 채널에서 한글 키보드 상태에서 다음 입력:
```
/애쥐ㅐㅁㅇ src/index.ts
```

**예상 결과**:
- `/애쥐ㅐㅁㅇ`이 `/download`로 자동 변환됨
- "🔄 한글 명령어가 영어로 변환되었습니다" 알림 표시
- 파일 다운로드 정상 실행
- 응답 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] 한글 명령어 입력 가능
- [ ] `/download`로 자동 변환됨
- [ ] 변환 알림 메시지 표시
- [ ] 파일 다운로드 성공
- [ ] 9개 버튼 표시

---

### Task 7.32-7.33: 한글 명령어 `/ㄴㅅㅁ션` 테스트

**동작**:
한글 키보드 상태에서 다음 입력:
```
/ㄴㅅㅁ션
```

**예상 결과**:
- `/ㄴㅅㅁ션`이 `/state`로 자동 변환됨
- 상태 정보 표시
- 응답 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] `/state`로 자동 변환됨
- [ ] 상태 정보 표시됨
- [ ] 9개 버튼 표시

---

### Task 7.34-7.36: "⏎⏎ 엔터*2" 버튼 테스트

**사전 조건**:
Claude Code가 연속 줄바꿈을 요구하는 상황 (예: 멀티라인 입력 종료)

**동작**:
1. "⏎⏎ 엔터*2" 버튼 클릭

**예상 결과**:
- Enter 키가 2번 연속 전송됨
- "✅ Enter 키가 2번 전송되었습니다" 메시지 표시
- 멀티라인 입력이 종료됨
- 응답 메시지에 9개 버튼 포함

**✅ 체크리스트**:
- [ ] "⏎⏎ 엔터*2" 버튼 클릭 가능
- [ ] Enter 2번 전송 성공 메시지 표시
- [ ] 멀티라인 입력 종료됨
- [ ] 9개 버튼 표시

---

### Task 7.37-7.39: 시스템 테스트 3 검증

**최종 검증 체크리스트**:
- [ ] 한글 명령어 `/애쥐ㅐㅁㅇ` → `/download` 정상 매핑 (Task 7.37)
- [ ] 한글 명령어 `/ㄴㅅㅁ션` → `/state` 정상 매핑
- [ ] "⏎⏎ 엔터*2" 버튼으로 연속 Enter 전송 성공 (Task 7.38)
- [ ] 모든 응답에 9개 버튼 표시 (Task 7.39)

---

## Task 7.40: 최종 검증 및 결과 문서화

### 전체 시스템 테스트 통과 확인

**모든 테스트 통과 체크리스트**:

**시스템 테스트 1**:
- [ ] Enter 키 버튼 정상 동작
- [ ] 화살표 키 버튼 정상 동작
- [ ] 대화형 프롬프트 응답 성공
- [ ] 9개 버튼 모든 응답에 표시

**시스템 테스트 2**:
- [ ] "📊 상태 확인" 버튼 정상 동작
- [ ] "📥 파일 다운로드" 버튼 정상 동작
- [ ] 모달 표시 및 제출 정상
- [ ] 9개 버튼 모든 응답에 표시

**시스템 테스트 3**:
- [ ] 한글 명령어 자동 변환 정상
- [ ] "⏎⏎ 엔터*2" 버튼 정상 동작
- [ ] 9개 버튼 모든 응답에 표시

---

## 테스트 결과 기록

### 테스트 환경
- 테스트 일시: ___________________
- OS: ___________________
- Node.js 버전: ___________________
- tmux 버전: ___________________
- Slack 워크스페이스: ___________________
- 테스트 채널: ___________________

### 발견된 이슈

| 이슈 번호 | 설명 | 심각도 | 재현 단계 | 상태 |
|----------|------|--------|----------|------|
| 1 | | | | |
| 2 | | | | |
| 3 | | | | |

### 테스트 결과 요약

- **시스템 테스트 1**: ✅ / ❌
- **시스템 테스트 2**: ✅ / ❌
- **시스템 테스트 3**: ✅ / ❌
- **전체 통과**: ✅ / ❌

### 추가 의견

```
(여기에 추가 의견 작성)
```

---

## 문제 해결 가이드

### 앱이 시작되지 않을 때

1. `.env` 파일 확인:
```bash
cat .env
```

2. Slack 토큰 유효성 확인:
- Slack App 설정 페이지에서 토큰 재생성
- `.env` 파일 업데이트

3. 포트 충돌 확인:
```bash
lsof -i :3000  # 사용 중인 포트 확인
```

### tmux 세션 문제

1. 기존 세션 확인:
```bash
tmux ls
```

2. 세션 강제 종료:
```bash
tmux kill-session -t <session-name>
```

### 버튼이 표시되지 않을 때

1. Slack App 권한 확인:
- `chat:write` 권한 필요
- Bot Token 재설치

2. 앱 로그 확인:
```bash
# 개발 모드로 실행하여 로그 확인
npm run dev
```

### 한글 명령어 변환 실패

1. 키보드 입력 모드 확인:
- macOS: `한/영` 키로 한글 입력 모드 전환
- Windows: `Alt + Shift` 또는 `한/영` 키

2. 지원되는 한글 명령어 확인:
- `/ㄴㅅㅁ션` → `/state`
- `/애쥐ㅐㅁㅇ` → `/download`

---

## 참고 자료

- [Remote Claude README](../README.md)
- [UX 개선 PRD](../tasks/tasks-0003-prd-ux-improvements.md)
- [개발 가이드](../docs/DEVELOPMENT.md)

---

**테스트 완료 후**: 이 문서를 `docs/SYSTEM_TEST_RESULTS.md`로 복사하여 결과를 기록하세요.
